{% extends "base.html" %}

{% load static %}

{% block content %}

<!-- Header -->
<header class="py-5 bg-image-full">
  <div class="hero-img text-center mt-5">
    <h1 class="text-info fs-3 brand-text">
      Mushroom Growing Kits And Logs Tested By Our Mush! Community
    </h1>
    <p class="text-black mb-0 fw-bolder">
      Reviews by people <span class="underline"> like you. </span>
    </p>
  </div>
</header>

<!-- Show Carousel -->

<div class="container-md">
  <div class="row">
    <div class="col-md-12">
      <div id="slider" class="owl-carousel">
      </div>
    </div>
  </div>
</div>

<!--Show Reviews of a specific product once user clicks "Reviews" button on a particular product-->

<div id="product-reviews">
  <div class="product-heading">
    <p id="product_detail_title"></p>
  </div>
  <div class="app-review-summary">
    <hr>
    <div class="row grid-x vertical">
      <div class="small-12 text-center columns medium-4">
        <div class="panel panel--white">
          <div id="product_detail_average_rating" class="margin-sm h1" style="font-size: 4.375rem"></div>
          <div id="product_detail_average_rating_star_list" class="reviews-db">
          </div>
          <div class="body margin-sm">based on <span id="product_detail_total_reviews_count"></span> reviews</div>
        </div>
      </div>
      <div class="small-12 medium-4 text-center columns">
        <div class="panel panel--white">
          <div class="circle-wrap">
            <div class="circle">
              <div class="mask full review_graph_circle" style="transform: rotate(0deg)">
                <div class="fill review_graph_circle" style="transform: rotate(0deg)"></div>
              </div>
              <div class="mask half">
                <div class="fill review_graph_circle" style="transform: rotate(0deg)"></div>
              </div>
              <div class="inside-circle"><span id="reviews_percentage">0</span>%</div>
            </div>
          </div>
          <div class="margin-sm">
            of respondents would recommend this to a friend
          </div>
        </div>
      </div>
    </div>
    <!-- Start row -->
    <div class="small-12 medium-4 text-center columns">
      <div class="panel panel--white">
        <div class="row">
          <div class="small-3 columns"></div>
          <div class="small-7 columns">
            <app-meter class="margin-xs" style="display: block">
              <div class="meter">
                <div class="meter__value" style="width: 57.7778%"></div>
              </div>
            </app-meter>
          </div>
          <div class="container">
            <div class="row">
              <div class="well well-lg">
                <div class="col-md-auto">
                  <div class="row rating-desc">

                    <div class="col-xs-3 col-md-3 text-right">
                      <span class="fa fa-star"></span>5
                    </div>
                    <div class="col-xs-8 col-md-9">
                      <div class="progress">
                        <div id="div_review_five_stars" class="progress-bar progress-bar-success" role="progressbar"
                          aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                          <span id="review_five_stars" class="sr-onl">0%</span>
                        </div>
                      </div>
                    </div>

                    <div class="col-xs-3 col-md-3 text-right">
                      <span class="fa fa-star"></span>4
                    </div>
                    <div class="col-xs-8 col-md-9">
                      <div class="progress">
                        <div id="div_review_four_stars" class="progress-bar progress-bar-success" role="progressbar"
                          aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                          <span id="review_four_stars" class="sr-onl">0%</span>
                        </div>
                      </div>
                    </div>

                    <div class="col-xs-3 col-md-3 text-right">
                      <span class="fa fa-star"></span>3
                    </div>
                    <div class="col-xs-8 col-md-9">
                      <div class="progress">
                        <div id="div_review_three_stars" class="progress-bar progress-bar-info" role="progressbar"
                          aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                          <span id="review_three_stars" class="sr-onl">0%</span>
                        </div>
                      </div>
                    </div>

                    <div class="col-xs-3 col-md-3 text-right">
                      <span class="fa fa-star"></span>2
                    </div>
                    <div class="col-xs-8 col-md-9">
                      <div class="progress">
                        <div id="div_review_two_stars" class="progress-bar progress-bar-warning" role="progressbar"
                          aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                          <span id="review_two_stars" class="sr-onl">0%</span>
                        </div>
                      </div>
                    </div>

                    <div class="col-xs-3 col-md-3 text-right">
                      <span class="fa fa-star"></span>1
                    </div>
                    <div class="col-xs-8 col-md-9">
                      <div class="progress">
                        <div id="div_review_one_stars" class="progress-bar progress-bar-danger" role="progressbar"
                          aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                          <span id="review_one_stars" class="sr-onl">0%</span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- End row -->
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-3"></div>
      </div>
      <!---->
    </div>
  </div>
  <!---->
  <hr>
  <!---->
  <div id="users-reviews-box" class="reviews-box-container">
  </div>

</div>
<script>
  // Get all published products (excluding hidden products)
  get_all_products_for_user();


  // Show all published products in Carousel (excluding hidden products)
  $(".owl-carousel").owlCarousel({
    autoplay: true,
    autoplayhoverpause: true,
    autoplaytimeout: 100,
    item: 4,
    nav: true,
    loop: false,
    lazyLoad: true,
    margin: 5,
    padding: 5,
    stagePadding: 5,
    responsive: {
      0: {
        items: 1,
        dots: false
      },
      485: {
        items: 2,
        dots: false
      },
      728: {
        items: 3,
        dots: false
      },
      960: {
        items: 4,
        dots: false
      },
      1200: {
        items: 4,
        dots: true
      }
    }
  });
</script>

<script>
  //Show all published Reviews once user click button "Reviews" On a specific product displayed on Carousel (excluding pending reviews)
  $(document).ready(function () {
    $(".reveal-product-reviews").click(function () {
      get_product_detail();
      $("#product-reviews").show();
      $("#product-reviews").css('display', 'flex');
      $("#product-reviews").get(0).scrollIntoView();
    });
  });
</script>

{% endblock %}